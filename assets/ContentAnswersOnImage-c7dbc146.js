import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";import{r as u,e as b,o as a,c as i,a as $,F as p,h as m,i as _,b as z,j as S}from"./index-ef123e0f.js";const A=["src"],I=["onClick"],k=["onClick"],D={__name:"ContentAnswersOnImage",props:["componentData","testStyle"],emits:["switchAnswer"],setup(h,{emit:w}){const r=h,d=e=>{w("switchAnswer",e)},n=(e,s)=>e/105*s,t=u({width:0,height:0}),v=u(null),l=u(null),x=(e,s)=>({position:"absolute",top:`${e.y}%`,left:`${e.x}%`,transform:"translate(-50%, -50%)",width:`${n(e.size,t.value.width)}px`,height:`${n(e.size,t.value.width)}px`,background:s?"green":e.color,hover:{width:`${n(e.size,t.value.width)*1.05}px`,height:`${n(e.size,t.value.width)*1.05}px`}}),y=e=>({position:"absolute",top:`${e.y}%`,left:`${e.x}%`,transform:"translate(-50%, -50%)",width:`${n(e.hitboxSize,t.value.width)}px`,height:`${n(e.hitboxSize,t.value.width)}px`,backgroundColor:`${e.color}55`,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",boxSizing:"border-box",cursor:"pointer"}),g=()=>{S(()=>{if(l.value&&l.value.complete){const{width:e,height:s}=l.value.getBoundingClientRect();t.value.width=e,t.value.height=s}else console.log("Изображение еще не загружено или элемент не найден")})};return b(()=>{g()}),(e,s)=>h.componentData.isAnswersOnImage?(a(),i("div",{key:0,class:"image-container",ref_key:"imageContainer",ref:v},[$("img",{src:r.componentData.imagesData.imagesList[0].imageURL,class:"content-image",ref_key:"imageElement",ref:l,onLoad:g},null,40,A),(a(!0),i(p,null,m(r.componentData.answersList,(c,o)=>(a(),i("div",{class:"marker",key:o,style:_(x(c.style,c.isChecked)),onClick:f=>d(o)},null,12,I))),128)),(a(!0),i(p,null,m(r.componentData.answersList,(c,o)=>(a(),i("div",{class:"hitbox",key:o,style:_(y(c.style)),onClick:f=>d(o)},null,12,k))),128))],512)):z("",!0)}},O=C(D,[["__scopeId","data-v-0aaa4c99"]]);export{O as default};
